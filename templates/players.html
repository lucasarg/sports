{% extends "base.html" %}

{% block content %}
  <h2>Player List</h2>

  <p>
    <a href="{{ url_for('main.add_player') }}">➕ Add Player</a>
  </p>

  {% if players %}
    <ul>
      {% for player in players %}
        <li style="display: flex; justify-content: space-between; align-items: center; padding: 6px 0;">
          <span>
            <strong>{{ player.name }}</strong>
            ({{ player.position or 'No position' }}, {{ player.age or 'Unknown age' }} years old)
            {% if player.team %}
              – Team: {{ player.team.name }} ({{ player.team.city }})
            {% else %}
              – No team assigned
            {% endif %}
          </span>
          <span>
            <a href="{{ url_for('main.edit_player', id=player.id) }}">✏️ Edit</a>

            <form action="{{ url_for('main.delete_player', id=player.id) }}" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this player?');">
              <button type="submit" style="background:none; border:none; color:red; cursor:pointer;">🗑️ Delete</button>
            </form>
          </span>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No players registered yet.</p>
  {% endif %}
{% endblock %}
